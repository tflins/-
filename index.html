<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>贪吃蛇DEMO</title>
  <style>
      .map {
          width: 800px;
          height: 600px;
          background-color: #ccc;
          position: relative;
      }
  </style>
</head>
<body>
  <!--地图-->
  <div class="map"></div>

  <script>
      // 产生随机数对象
      (function(window) {
          // 产生随机数对象构造函数
          function Random() {}
          // 往Random的原型中添加随机数方法
          Random.prototype.getRandom = function(min, max) {
              return Math.floor(Math.random() * (max - min) + min);
          };
          // 将随机数对象暴露给顶级作用域window
          window.Random = new Random();
      })(window);

      // 产生小方块(食物)对象
      (function() {
          // 获取地图元素
          var map = document.querySelector(".map");
          // 食物构造函数
          function Food(width, height, color) {
              // 食物的宽高, 与颜色
              this.width = width || 20;
              this.height = height || 20;
              this.color = color || "green";
              // 食物的位置
              this.x = 0;
              this.y = 0;
              // 食物元素
              this.element = document.createElement("div");
          }
          // 向Food原型对象中添加初始化方法
          Food.prototype.init = function() {
              // 设置食物样式
              var div = this.element;
              div.style.width = this.width + "px";
              div.style.height = this.height  + "px";
              div.style.backgroundColor = this.color;
              div.style.position = "absolute";
              // 调用随机位置方法, 并传地图
              this.render(map, div);
              // 将其添加到地图上
              map.appendChild(div);
          };
          // 添加Food随机位置方法
          Food.prototype.render = function(map, div) {
              // 随机横纵坐标
              var x = Random.getRandom(0, map.offsetWidth / this.width) * this.width;
              var y = Random.getRandom(0, map.offsetHeight / this.height) * this.height;
              this.x = x;
              this.y = y;
              div.style.left = this.x + "px";
              div.style.top = this.y + "px";
          }
          var fd = new Food();
          fd.init();
      })();
  </script>
</body>
</html>
